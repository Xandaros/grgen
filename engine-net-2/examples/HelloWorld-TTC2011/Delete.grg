#using "graph1__ecore.gm"

rule deleteN1 {
	n:graph1_Node;

	if {n._name == "n1";}

	modify {
		delete(n);
	}
}

rule deleteN1AndAllIncidentEdges {
	n:graph1_Node;

	if {n._name == "n1";}

	iterated {
		n <-- e:graph1_Edge;

		replace {
		}
	}

	replace {
	}
}

rule fixNodeIndex {
	n:graph1_Node;
	n <-e:graph1_Graph_nodes-;

	if {e.index > 0;}

	negative {
		<-f:graph1_Graph_nodes-;

		if { f.index == e.index - 1;}
	}

	modify {
		eval {
			e.index = e.index - 1;
		}
	}
}
